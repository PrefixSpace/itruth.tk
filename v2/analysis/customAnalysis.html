<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:image" content="http://pngimg.com/uploads/question_mark/question_mark_PNG27.png">
<meta property="og:description" content="iTruth custom analysis.">
<link rel="icon" href="https://icon-icons.com/descargaimagen.php?id=83827&root=1238/ICO/128/&file=questionmark1_83827.ico">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2.2.0/src/js.cookie.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/Merret/UsefulJS@0.2/js/urldata.min.js"></script>
<title>Analysis::Test::customAnalysis - iTruth</title>
	<style>
		.Qans {cursor: pointer;}
	</style>
</head>

<body class="w3-container w3-center">
<h1 style="font-size: 50px;"> Analysis::Test::customAnalysis </h1>
<div class="w3-card w3-round-large w3-padding" id="question">
<h2 id="Qhead">Question Title</h2>
<p id="Qbody">
	<ol>
<li class="Qans" id="a1" onClick="ans1()">Answer1</li>
<li class="Qans" id="a2" onClick="ans2()">Answer2</li>
<li class="Qans" id="a3" onClick="ans3()">Answer3</li>
<li class="Qans" id="a4" onClick="ans4()">Answer4</li>
	</ol>
</p>
</div>
	<br/>
<div class="w3-light-grey w3-round-xlarge">
    <div class="w3-center w3-blue w3-round-xlarge" id="bar" style="width:10%">1/x</div>
</div>
<a href="javascript: history.go(-1)">go back</a>
	<script>
		var jsonData;
		var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        jsonData = this.responseText;
                    }
                };
                xhttp.open("GET", urldata("json"), true);
                xhttp.send();
		var analysis = JSON.parse(jsonData);
		Cookies.set("Ttype", "custom");
		Cookies.set("Tpath", "path")
		Cookies.set("Tscore", "0");
		var title = document.getElementById("Qhead");
		var a1 = document.getElementById("a1");
		var a2 = document.getElementById("a2");
		var a3 = document.getElementById("a3");
		var a4 = document.getElementById("a4");
		var bar = document.getElementById("bar");
		question(0);
		function question(count) {
			tc=count+1;
			title.innerHTML = analysis.topic[count].head;
			a1.innerHTML = analysis.topic[count].ans1;
			a2.innerHTML = analysis.topic[count].ans2;
			a3.innerHTML = analysis.topic[count].ans3;
			a4.innerHTML = analysis.topic[count].ans4;
			bar.style.width = 100*tc/analysis.count+"%";
			bar.innerHTML = tc+"/"+analysis.count;
		}
		function ans1() {
			Cookies.set("Tpath", Cookies.get("Tpath")+">1");
			Cookies.set("Tscore", parseInt(Cookies.get("Tscore"))+1);
			question(count+1);
			check();
		}
		function ans2() {
			Cookies.set("Tpath", Cookies.get("Tpath")+">2");
			Cookies.set("Tscore", parseInt(Cookies.get("Tscore"))+2);
			question(count+1);
			check();
		}
		function ans3() {
			Cookies.set("Tpath", Cookies.get("Tpath")+">3");
			Cookies.set("Tscore", parseInt(Cookies.get("Tscore"))+3);
			question(count+1);
			check();
		}
		function ans4() {
			Cookies.set("Tpath", Cookies.get("Tpath")+">4");
			Cookies.set("Tscore", parseInt(Cookies.get("Tscore"))+4);
			question(count+1);
			check();
		}
		function check() {
			if(count==analysis.count-1) {location.href="result.html"}
		}
	</script>
</body>
</html>
